<!DOCTYPE html>
<html lang="en">
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- view.js를 이용해 봄, cdn을 포함시킴 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>


    <script src="https://unpkg.com/vue-router@3.5.3/dist/vue-router.js"></script>
    <!-- axios를 위한 CDN 방식 -->
    <!-- 제이쿼리랑 똑같음 -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>

   <div id="app"> 

    <button v-on:click="myFunc">ajax 호출</button>
   </div>
    
    <script>
     new Vue({
        methods:{
            myFunc:function(){
                //axios를 이용한 ajax 호출 
                //alert('호출!!');
                // $.ajax({ success : function() {}}); 
                axios({
                    url:'http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json',
                    method: 'GET',
                    // data는 POSt, put, delete 메서드 방식에서만 적용 가능.
                    // data:{
                    // }

                    // params는 url parameter를 지칭, queryString 방식으로 전달되는 데이터르 의미
                    // 당연히 get방식.
                    params:{
                        key: '97121f3d440e8f6f236416da6aa305e2',
                        targetDt:'20230101'
                    },
                    responseType: 'json' // 내가 받을 데이터 형태 (안써도 됨) 기본 값 'json'
                }).then(function(result){
                    //alart('호출성공');
                    console.log(result.data);
                    //result. data로 결과값 받기.
                }).catch(function(){
                    alert('실패');
                });
                // axios 성공하면 then() 수행. 실패 catch() 수행
            }
        }
    }).$mount('#app');
  
    </script>
    
</body>
</html>